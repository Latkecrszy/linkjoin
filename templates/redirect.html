<html>
    <body onload="NewTab()"><button>Click me to activate!</button></body>
    <script>
        function sleep(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
   }
    </script>
    <script>
            async function NewTab() {
                for (var i=0; i<{{ num }}; i++) {
                    const user_links = {{ user_links|tojson|safe }}
                    const links = links[i]
                    const hour = parseInt(links["time"].split(":")[0])
                    const minute = parseInt(links["time"].split(":")[1])
                    if (links["username"] == "{{ username }}" && links["password"] == "{{ password }}") {
                        if (links["day"] == "{{ day }}" && hour == parseInt("{{ hour }}") && minute == parseInt("{{ minute }}") && links["amorpm"] == "{{ amorpm }}") {
                            window.open(links["link"], name="_blank")
                        }
                    }
                }
                await sleep(60000)
                location.reload()
            }
        </script>
</html>